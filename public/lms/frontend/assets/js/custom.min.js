!(function (t) {
    "use strict";
    function e(e, a) {
        t.ajax({
            url: e,
            method: "GET",
            data: a,
            dataType: "json",
            success: function (e) {
                if ("error" == e.status) {
                    if (e.hasOwnProperty("message"))
                        Command: toastr.error(`${e.message}`);
                } else if ("success" == e.status) {
                    var a, n, o;
                    if (e.hasOwnProperty("message"))
                        Command: toastr.success(`${e.message}`);
                    if (e.hasOwnProperty("coupon")) {
                        let s, i;
                        null == (a = e).total_amount && location.reload(),
                            (s = a.coupon_amount),
                            (i = a.total_amount),
                            (s = parseFloat(a.coupon_amount) ?? 0),
                            (i = parseFloat(a.total_amount) ?? 0),
                            (s = s.toFixed(2)),
                            (i = i.toFixed(2)),
                            t("#discount-area").html(""),
                            t("#discount-area").html(`
    <td class="px-1 py-4 text-left">
        <div
            class="flex items-center gap-2 area-description text-heading/70 !leading-none shrink-0">
            <span class="text-heading dark:text-white mb-0.5">${discountText} (-)</span>
        </div>
    </td>
    <td class="px-1 py-4 text-right" id="discount-area">
        <div class="text-heading/70 font-semibold leading-none">$${s}</div>
    </td>

`),
                            t("#total").html(`$${i}`),
                            t("#subTotal").html(`$${i}`),
                            t("#grand_total").html(`$${i - s}`),
                            t(".total-qty").html(`${a.total_qty}`);
                    }
                    e.hasOwnProperty("learn") &&
                        ((n = e), t(".curriculum-content").html(`${n.view}`)),
                        e.hasOwnProperty("payment") &&
                            ((o = e),
                            t("#card-payment").html(`${o.data.form}`),
                            t("#pay-button").html(`${o.data.button}`)),
                        e.hasOwnProperty("url") && location.replace(`${e.url}`),
                        e.hasOwnProperty("type") && location.reload(),
                        e.hasOwnProperty("wishlist") &&
                            t(".total-wishlist").html(`${e.total}`);
                }
            },
        });
    }
    function a(e) {
        t.each(e, function (e, a) {
            t("." + e + "_err")
                .text(a)
                .fadeIn()
                .delay(5e3)
                .fadeOut("slow");
        });
    }
    t(".cancel-button").hide(),
        t(document).on("submit", ".form", function (e) {
            e.preventDefault();
            let n = t(this),
                o = new FormData(n[0]),
                s = n.attr("action"),
                i = t(n).find("button[type='submit']"),
                l = i.text();
            t.ajax({
                url: s,
                method: "POST",
                data: o,
                dataType: "json",
                cache: !1,
                contentType: !1,
                processData: !1,
                beforeSend: function () {
                    i.html(`<div class="animate-spin text-white">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512">
            <path fill="currentColor" d="M304 48a48 48 0 1 0-96 0a48 48 0 1 0 96 0m0 416a48 48 0 1 0-96 0a48 48 0 1 0 96 0M48 304a48 48 0 1 0 0-96a48 48 0 1 0 0 96m464-48a48 48 0 1 0-96 0a48 48 0 1 0 96 0M142.9 437A48 48 0 1 0 75 369.1a48 48 0 1 0 67.9 67.9m0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437a48 48 0 1 0 67.9-67.9a48 48 0 1 0-67.9 67.9"/>
            </svg>
            
        </div> ${l}`),
                        i.attr("disabled", !0);
                },
                success: function (e) {
                    if ("error" == e.status) {
                        if (
                            (i.attr("disabled", !1),
                            i.html(`${l}`),
                            e.hasOwnProperty("message"))
                        )
                            Command: toastr.error(`${e.message}`);
                        "" !== e.errors && a(e.errors),
                            "" !== e.data && a(e.data);
                    } else if ("success" == e.status) {
                        if (
                            (i.removeAttr("disabled", "false"),
                            t(n).find("button[type='submit']").html(`${l}`),
                            e.hasOwnProperty("url") &&
                                location.replace(`${e.url}`),
                            e.hasOwnProperty("modal_hide") &&
                                "yes" == e.modal_hide &&
                                (t(".fixed.inset-0").removeClass("flex"),
                                t(".fixed.inset-0").addClass("hidden")),
                            e.hasOwnProperty("message"))
                        )
                            Command: toastr.success(`${e.message}`);
                        e.hasOwnProperty("type") && location.reload(),
                            (function e(a) {
                                t(a).trigger("reset");
                            })(n);
                    }
                },
            });
        }),
        t(document).on("click", ".reply-btn", function () {
            t("#replyId").val(t(this).data("id")),
                t(".comment-button").html("Replying"),
                t(".cancel-button").show(),
                t("html, body").animate(
                    { scrollTop: t(document).height() },
                    "slow"
                );
        }),
        t(document).on("click", ".cancel-button", function () {
            t("#replyId").val(""),
                t(".comment-button").html("Comment"),
                t(".cancel-button").hide();
        }),
        t(document).on("click", ".add-to-cart", function (a) {
            a.preventDefault();
            let n = t(this).data("course-id"),
                o = t(this).data("type"),
                s;
            e(baseUrl + "/add-to-cart", { id: n, type: o });
        }),
        t(document).on("click", ".remove-cart", function () {
            let a = t(this).data("id"),
                n;
            e(t(this).data("action"), { id: a }),
                t(this).parent().parent().remove();
        }),
        t(document).on("submit", ".get-form", function (a) {
            a.preventDefault();
            let n = t(this).attr("action"),
                o = t("#coupon_code").val();
            e(n, { coupon_code: o });
        }),
        t(document).on("click", ".add-wishlist", function (a) {
            a.preventDefault();
            let n = t(this),
                o = n.data("id"),
                s = baseUrl + "/add-wishlist";
            n.toggleClass("active"), e(s, { course_id: o });
        }),
        t(document).on("click", ".payment-item", function (a) {
            a.preventDefault(),
                t(".payment-item").removeClass("active"),
                t(this).addClass("active");
            let n = t(this),
                o = n.data("method"),
                s = n.data("action");
            "paypal" == o
                ? t("form").removeClass("form")
                : t("form").addClass("form"),
                e(s, { payment_method: o });
        }),
        t(document).on("click", ".video-lesson-item", function (a) {
            a.preventDefault();
            let n = t(this),
                o = n.data("type"),
                s = n.data("id"),
                i;
            e(n.data("action"), { type: o, id: s });
        }),
        t(document).on("click", ".auth-login", function () {
            Command: toastr.error("Please Login");
        }),
        t(document).on("change", ".quizSelectAnswer", function (e) {
            let a = t(this).closest("form"),
                n = a.attr("action"),
                o = t("#courseId").val(),
                s = t("#chapterId").val(),
                i = t("#topicId").val(),
                l = new FormData(a[0]);
            l.append("course_id", o),
                l.append("chapter_id", s),
                l.append("topic_id", i),
                t.ajax({
                    url: n,
                    method: "POST",
                    data: l,
                    dataType: "json",
                    cache: !1,
                    contentType: !1,
                    processData: !1,
                    success: function (t) {},
                });
        }),
        t(document).on("blur", ".fill-in-blank", function () {
            let e = t(this).closest("form"),
                a = e.attr("action"),
                n = t("#courseId").val(),
                o = t("#chapterId").val(),
                s = t("#topicId").val(),
                i = new FormData(e[0]);
            i.append("course_id", n),
                i.append("chapter_id", o),
                i.append("topic_id", s),
                t.ajax({
                    url: a,
                    method: "POST",
                    data: i,
                    dataType: "json",
                    cache: !1,
                    contentType: !1,
                    processData: !1,
                });
        });
})(jQuery);
function numberOnly(t) {
    var e = document.getElementById(t);
    "expire" == t
        ? 2 == e.value.length && (e.value = e.value.concat("/"))
        : (e.value = e.value.replace(/[^0-9]/gi, ""));
}
